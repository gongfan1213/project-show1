实现了一个 **文件上传和管理界面**，主要用于管理用户上传的素材（如图片、SVG 文件等）。以

---

## **功能概述**

### **1. 素材列表的加载与展示**
- **分页加载**：支持从服务端分页获取用户上传的素材列表。
- **滚动加载更多**：当用户滚动到页面底部时，自动加载更多素材。
- **缓存机制**：通过 `DataCache` 缓存素材列表，避免重复请求。

---

### **2. 素材的上传**
- **支持的文件类型**：`.jpeg`, `.jpg`, `.png`, `.svg`, `.webp`, `.psd`, `.ai`, `.pdf`。
- **文件选择上传**：
  - 用户可以通过点击上传按钮选择文件。
  - 支持多文件上传。
- **拖拽上传**：
  - 用户可以将文件拖拽到界面中进行上传。
- **文件大小校验**：在上传前检查文件大小是否符合要求。
- **上传进度提示**：
  - 上传开始时显示加载提示。
  - 上传完成后隐藏提示或显示错误信息。

---

### **3. 素材的选择与编辑**
- **单选与多选**：
  - 用户可以单独选择某个素材，也可以通过全选按钮选择所有素材。
- **编辑模式**：
  - 进入编辑模式后，用户可以批量操作（如删除）选中的素材。
- **取消编辑模式**：
  - 用户可以通过清空选中项退出编辑模式。

---

### **4. 素材的删除**
- **单个删除**：
  - 用户可以通过点击某个素材的删除按钮删除该素材。
- **批量删除**：
  - 用户可以选择多个素材后批量删除。
- **删除限制**：
  - 如果选中的素材数量超过 100，则提示用户无法删除超过 100 个素材。
- **删除确认**：
  - 删除前会弹出确认对话框，用户需要确认操作。

---

### **5. 素材的导入**
- **导入到画布**：
  - 用户可以将素材导入到画布中进行编辑。
  - 支持不同文件类型的处理：
    - **SVG 文件**：通过 `addSvgFile` 方法导入。
    - **其他图片文件**：通过 `addImage` 方法导入。
- **与其他模块的交互**：
  - 如果从 `apps` 模块进入，则将素材数据传递给 `handleStep4Data`。
  - 如果是宠物肖像模式，则将素材数据传递给 `handlePetPoraData`。

---

### **6. 素材的展示**
- **空状态提示**：
  - 如果没有素材，显示空状态提示（包括图标和提示文字）。
- **素材列表展示**：
  - 使用 `DataList` 组件展示素材列表。
  - 支持鼠标悬停、点击等交互。

---

### **7. 底部工具栏**
- **功能**：
  - 显示选中项的数量。
  - 提供全选、取消全选、删除等操作。
- **动态显示**：
  - 当进入编辑模式或有素材待删除时，显示底部工具栏。

---

### **8. 事件处理**
- **全局事件监听**：
  - 监听素材更新事件（`EventUpdateMaterial`），动态更新素材列表。
- **事件解绑**：
  - 在组件卸载时，解绑所有事件，避免内存泄漏。

---

### **9. 其他功能**
- **国际化支持**：
  - 使用 `useTranslation` 和 `getTranslation` 实现多语言支持。
- **拖拽交互**：
  - 支持拖拽文件到界面中进行上传。
- **性能优化**：
  - 使用 `useCallback` 优化事件处理函数，避免不必要的重新渲染。

---

## **功能实现的细节**

### **1. 素材列表的加载**
- **函数**：`getListData`
- **逻辑**：
  1. 构造分页请求参数。
  2. 调用 `getUserMaterialList` 服务函数获取素材列表。
  3. 根据返回结果更新 `dataList`、`hasMore` 和缓存。
  4. 如果当前处于全选状态，将新加载的素材加入选中项。

---

### **2. 素材的上传**
- **函数**：`updateFile` 和 `handleDrop`
- **逻辑**：
  1. 用户选择文件或拖拽文件到界面。
  2. 检查文件大小是否符合要求。
  3. 调用 `uploadImageForCavas` 方法上传文件。
  4. 上传完成后，更新素材列表。

---

### **3. 素材的选择**
- **单选**：
  - 函数：`handleSelectItem`
  - 逻辑：切换素材的选中状态，并更新 `selectedItems`。
- **全选**：
  - 函数：`handleSelectAll`
  - 逻辑：根据当前全选状态，选择或取消选择所有素材。

---

### **4. 素材的删除**
- **函数**：`handleDeleteSelected`
- **逻辑**：
  1. 检查选中的素材数量是否超过 100。
  2. 调用 `deleteUserMateria` 服务函数删除选中的素材。
  3. 更新素材列表，清空选中项，并重新加载下一页数据（如果有更多素材）。

---

### **5. 素材的导入**
- **函数**：`clickItem`
- **逻辑**：
  1. 判断是否从 `apps` 模块或宠物肖像模式进入。
  2. 如果是 SVG 文件，调用 `addSvgFile` 方法导入。
  3. 如果是其他图片文件，调用 `addImage` 方法导入。

---

## **总结**

`MainUiLeftUpload` 是一个功能丰富的文件上传和管理组件，主要实现了以下功能：
1. **素材的加载与展示**：支持分页加载、滚动加载和缓存。
2. **素材的上传**：支持文件选择上传和拖拽上传。
3. **素材的选择与编辑**：支持单选、多选、全选和编辑模式。
4. **素材的删除**：支持单个删除和批量删除。
5. **素材的导入**：支持将素材导入到画布中。
6. **交互优化**：包括鼠标悬停、拖拽、弹窗等交互。

该组件适用于需要管理用户上传素材的场景，如图片编辑器、设计工具等。
