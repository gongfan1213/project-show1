伽马值（Gamma）是一个非线性操作，用于调整图像的亮度。它影响的是图像中间色调的亮度，而不会显著改变最暗和最亮的区域。

**更详细的解释：**

1.  **非线性关系：** 伽马校正不是一个线性变换。这意味着输入值和输出值之间的关系不是一条直线，而是一条曲线。

2.  **公式：** 伽马校正的典型公式如下：

    ```
    V_out = A * V_in ^ γ
    ```

    *   `V_out`: 输出亮度值。
    *   `V_in`: 输入亮度值（通常归一化到 0.0-1.0 的范围）。
    *   `A`: 常数，通常为 1。
    *   `γ` (gamma): 伽马值。

3.  **伽马值的影响：**

    *   **γ < 1 (伽马压缩):** 曲线向上弯曲。这会使图像的中间色调变亮，同时对暗部和亮部的影响较小。常用于校正显示器（如 CRT 显示器）的非线性特性。
    *   **γ = 1 (线性):** 输入和输出之间是线性关系，图像亮度不变。
    *   **γ > 1 (伽马扩展):** 曲线向下弯曲。这会使图像的中间色调变暗，同时对暗部和亮部的影响较小。

4.  **用途：**

    *   **显示器校正:** 最常见的用途是校正显示器（尤其是 CRT 显示器）的非线性特性。因为显示器将电压转换为光强度的过程不是线性的，所以需要伽马校正来确保图像在屏幕上正确显示。
    *   **图像处理:** 伽马校正可以用来调整图像的整体对比度和亮度，使图像看起来更自然或更符合特定需求。例如，可以提高图像的对比度，增强细节，或者模拟不同的光照条件。
    *   **色彩管理:** 伽马校正也是色彩管理中的一个重要环节，用于确保图像在不同设备之间的一致性。

5.  **在代码中的应用：**
    在`ImageToolPlugin`的代码中, `setGamma` 方法通过调整 `fabric.Image.filters.Gamma` 滤镜的 `gamma` 属性来改变图像的伽马值。
      * `setGamma`会将前端传入的范围在[-1, 1]之间的值`value`映射到[0.2, 2.2]之间。
      * 代码中`gammaArray`是一个包含三个相同伽马值的数组，分别对应红、绿、蓝三个颜色通道。这意味着对每个颜色通道应用相同的伽马校正。

**举例说明：**

假设你有一张很暗的图片，中间色调部分几乎看不清细节。你可以通过应用一个小于 1 的伽马值（例如 0.5）来进行伽马校正。这将提高中间色调的亮度，使细节更清晰，同时保持暗部和亮部相对不变。

**总结:**

伽马值是一个控制图像中间色调亮度的参数。它通过非线性变换来调整图像的对比度和亮度，常用于显示器校正、图像处理和色彩管理。 不同的伽马值会产生不同的视觉效果。
