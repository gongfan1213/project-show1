### 整理后的文字内容：

---

### 1. 绘制金字塔
由三个点组成一个三角形面，一组有三个点，前面四组分别表示金字塔的四个侧面，下面两组则构成金字塔底部的矩形。

代码修改如下：
```c
glDrawArrays(GL_TRIANGLES, 0, 18);
```
最后一个参数为18，表示一共有18个点。但运行代码时发现没有生成3D的金字塔。可以通过添加z轴坐标来解决。

---

### 2. 3D图形理论
#### 观察3D物体
- 需要找到一个观察位置，然后从观察位置看向物体。
- 调整观察位置可以看到物体的不同角度。
- 观察物体的距离变化会影响物体的大小，产生远小近大的效果。

#### 计算机模拟3D效果的三步：
1. 设置观察位置。
2. 将物体移动到观察视野中。
3. 通过透视投影，产生远小近大的效果。

---

### 3. 具体实现步骤
#### 1. 设置观察位置
观察点（也叫摄像机）是观察的起点。如下图所示，摄像机的位置决定了视野范围。

#### 2. 将物体移动到观察视野中
##### a. 确定观察位置
- 摄像机和物体必须在同一个坐标空间中，才能将物体移动到摄像机视野中。
- OpenGL使用右手坐标系。

##### b. 移动物体到观察位置
- **世界空间-世界坐标系**：摄像机和物体都在同一个世界坐标系中。
- **模型空间-模型坐标系**：模型的坐标原点通常在模型的中心位置，随物体移动而移动。
- **摄像机空间-摄像机坐标系**：摄像机坐标系以摄像机为原点，表示可被渲染的区域。

##### 坐标系转换：
- 模型空间 → 世界空间 → 摄像机空间。
- 不能直接从模型空间转换到摄像机空间，需要通过世界空间中介。

**OpenGL中的坐标系理解：**
- 对于3D模型（如stl、obj），坐标已定义在世界坐标系中。
- 对于摄像机，默认在世界坐标系原点（0,0,0），摄像头朝向z轴的负方向。

---

### 4. 模型与视变换
假设3D模型的中心点就在世界坐标系原点，而摄像机默认也在世界坐标系原点。此时，模型不在摄像机视野中。需要将物体沿z轴负方向移动一定距离，物体才能进入摄像机视野。

#### 1) 物体在z轴负方向移动
代码示例：
```c
GLKMatrix4 modelMat4 = GLKMatrix4Identity;
modelMat4 = GLKMatrix4Translate(modelMat4, 0.0, 0.0, -3);
```

#### 2) 调整摄像机位置
代码示例：
```c
GLKMatrix4MakeLookAt(self.cameraVec.x, self.cameraVec.y, self.cameraVec.z, 0, 0, 0, 0, 1, 0);
```
- `self.cameraVec.x/y/z`：摄像机在世界坐标系中的位置。
- `(0,0,0)`：摄像机的观察目标点。
- `(0,1,0)`：摄像机的上方向。

---

### 5. 投影变换
OpenGL中有两种投影方式：
1. **透视投影**：产生远小近大的效果。
2. **正投影**：无远近关系，物体大小一致。

透视投影更接近人眼观察的效果，因此绘制3D图形时一般选择透视投影。

---
